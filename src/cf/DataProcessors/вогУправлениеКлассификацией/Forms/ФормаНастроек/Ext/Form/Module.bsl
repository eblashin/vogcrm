
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Пропускаем инициализацию, чтобы гарантировать получение формы при передаче параметра "АвтоТест".
	Если Параметры.Свойство("АвтоТест") Тогда
		Возврат;
	КонецЕсли;
	
	Если Параметры.Настройки = Неопределено Тогда
		ВызватьИсключение НСтр("ru = 'Форма не предназначена для непосредственного использования. '");	
	КонецЕсли;
	
	ЗаполнитьЗначенияСвойств(ЭтотОбъект, Параметры.Настройки);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура КомандаОК(Команда)
	
	Если Не ПроверитьЗаполнение() Тогда
		Возврат;	
	
	КонецЕсли;
	
	Закрыть(СформироватьСтруктуруНастроек());
	
КонецПроцедуры

#КонецОбласти

#Область Прочее

&НаКлиенте
Функция СформироватьСтруктуруНастроек()

	Настройки = Новый Структура("ИнтервалПродаж, ПериодичностьПродаж");
	ЗаполнитьЗначенияСвойств(Настройки, ЭтотОбъект);
	
	Возврат Настройки;
	
КонецФункции // СформироватьСтруктуруНастроек()

#КонецОбласти


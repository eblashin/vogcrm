
///////////////////////////////////////////////////////////////////////////////
// ОБЩИЕ ПРОЦЕДУРЫ И ФУНКЦИИ

///////////////////////////////////////////////////////////////////////////////
// ОБЩИЕ ПРОЦЕДУРЫ И ФУНКЦИИ СЕРВЕР

///////////////////////////////////////////////////////////////////////////////
// ОБЩИЕ ПРОЦЕДУРЫ И ФУНКЦИИ КЛИЕНТ

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ФОРМЫ

////////////////////////////////////////////////////////////////////////////////
// КОМАНДЫ

&НаКлиенте
Процедура КомандаОК(Команда)
	ПринятьИзменения	= Истина;
	Закрыть();
КонецПроцедуры

&НаКлиенте
Процедура КомандаОтмена(Команда)
	ПринятьИзменения = Ложь;
	Закрыть();
КонецПроцедуры

#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Если ЭтаФорма.Параметры.Свойство("ДоступныеДействия") Тогда
		ДоступныеДействия = ЭтаФорма.Параметры.ДоступныеДействия;
	Иначе
		ДоступныеДействия = Неопределено;
	КонецЕсли;
	
	Элементы.СпособИзмененияРяда.СписокВыбора.Очистить();
	Элементы.СпособИзмененияРяда.СписокВыбора.Добавить("ТолькоТекущее",	НСтр("ru = 'Только текущее событие'"));
	Элементы.СпособИзмененияРяда.СписокВыбора.Добавить("ДоКонцаРяда",	НСтр("ru = 'Это и последующие события'"));
	Элементы.СпособИзмененияРяда.СписокВыбора.Добавить("ВесьРяд",		НСтр("ru = 'Все события'"));
	
	Если ДоступныеДействия <> Неопределено Тогда
		Если ДоступныеДействия.Найти("ТолькоТекущее") = Неопределено Тогда
			ЗначениеУдалить = Элементы.СпособИзмененияРяда.СписокВыбора.НайтиПоЗначению("ТолькоТекущее");
			Если ЗначениеУдалить <> Неопределено Тогда
				Элементы.СпособИзмененияРяда.СписокВыбора.Удалить(ЗначениеУдалить)
			КонецЕсли;
		КонецЕсли;
		Если ДоступныеДействия.Найти("ДоКонцаРяда") = Неопределено Тогда
			ЗначениеУдалить = Элементы.СпособИзмененияРяда.СписокВыбора.НайтиПоЗначению("ДоКонцаРяда");
			Если ЗначениеУдалить <> Неопределено Тогда
				Элементы.СпособИзмененияРяда.СписокВыбора.Удалить(ЗначениеУдалить)
			КонецЕсли;
		КонецЕсли;
		Если ДоступныеДействия.Найти("ВесьРяд") = Неопределено Тогда
			ЗначениеУдалить = Элементы.СпособИзмененияРяда.СписокВыбора.НайтиПоЗначению("ВесьРяд");
			Если ЗначениеУдалить <> Неопределено Тогда
				Элементы.СпособИзмененияРяда.СписокВыбора.Удалить(ЗначениеУдалить)
			КонецЕсли;
		КонецЕсли;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(СпособИзмененияРяда) Тогда
		СпособИзмененияРяда = Элементы.СпособИзмененияРяда.СписокВыбора[0].Значение;
	КонецЕсли;
КонецПроцедуры

#КонецОбласти

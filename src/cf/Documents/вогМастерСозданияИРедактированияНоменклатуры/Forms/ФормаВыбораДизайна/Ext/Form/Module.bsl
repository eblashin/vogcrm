&НаКлиенте
Процедура Выбрать(Команда)
	
	Если Элементы.ТаблицаДизайнов.ТекущиеДанные <> Неопределено Тогда
		ОповеститьОВыборе(Элементы.ТаблицаДизайнов.ТекущиеДанные);
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ЗакрытьФорму(Команда)
	
	Закрыть();
	
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Для Каждого Дизайн Из Параметры.СписокДизайнов Цикл
		НоваяСтрока = ТаблицаДизайнов.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрока,Дизайн);
	КонецЦикла;
	
	Запрос = Новый Запрос;
	Запрос.Текст = 
		"ВЫБРАТЬ
		|	вогДизайныНоменклатуры.Ссылка КАК Наименование,
		|	"""" КАК УИД
		|ИЗ
		|	Справочник.вогДизайныНоменклатуры КАК вогДизайныНоменклатуры
		|ГДЕ
		|	НЕ вогДизайныНоменклатуры.ПометкаУдаления
		|	И вогДизайныНоменклатуры.НаправлениеДеятельности = &НаправлениеДеятельности";
	
	Запрос.УстановитьПараметр("НаправлениеДеятельности", Параметры.НаправлениеДеятельности);
	
	РезультатЗапроса = Запрос.Выполнить();
	
	ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать();
	
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		НоваяСтрока = ТаблицаДизайнов.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрока,ВыборкаДетальныеЗаписи);
	КонецЦикла;
	
КонецПроцедуры

&НаКлиенте
Процедура ТаблицаДизайновВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	Если Элемент.ТекущиеДанные <> Неопределено Тогда
		ОповеститьОВыборе(Элемент.ТекущиеДанные);
	КонецЕсли;

КонецПроцедуры

&НаКлиенте
Процедура СтрокаПоискаАвтоПодбор(Элемент, Текст, ДанныеВыбора, ПараметрыПолученияДанных, Ожидание, СтандартнаяОбработка)
	
	Элементы.ТаблицаДизайнов.ОтборСтрок = Новый ФиксированнаяСтруктура("Наименование",Текст);
	
КонецПроцедуры

&НаКлиенте
Процедура СтрокаПоискаОчистка(Элемент, СтандартнаяОбработка)
	
	Элементы.ТаблицаДизайнов.ОтборСтрок = Неопределено;
	
КонецПроцедуры
